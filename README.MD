# swagger-ui

## é¢„è§ˆ

  [https://swag.iosoon.cn](https://swag.iosoon.cn)

## ä¼˜ç‚¹

- æ“ä½œæ–¹ä¾¿ğŸ¶
- å¯ä»¥åŒæ—¶éƒ¨ç½²å¤šä¸ªé¡¹ç›®çš„apiæ–‡æ¡£ğŸš€

## å¿«é€Ÿä½¿ç”¨

- æ ¹æ®[æ¨¡ç‰ˆé…ç½®](./conf.nginx)é…ç½®nginx
- æŠŠswaggerç”Ÿæˆçš„æ¥å£æ–‡ä»¶å‘½åä¸ºé¡¹ç›®å+ç¯å¢ƒå+jsonã€‚å¦‚`project.env.json`
- æŠŠ`project.env.json`æ”¾åˆ°docsç›®å½•ä¸‹
- æ‰§è¡Œ`python3 run.py`å³å¯


## è¯´æ˜

  - pageç›®å½•ä¸‹çš„æ–‡ä»¶æ¥è‡ª[swagger-api/swagger-ui](https://github.com/swagger-api/swagger-ui/releases) v4.15.5
  - é¡¹ç›®åŸç†æœ¬èº«æ˜¯é€šè¿‡ä¿®æ”¹swagger-uiå®˜æ–¹åŒ…index.htmlï¼Œæ³¨å…¥ä¸€ä¸ªselecté€‰æ¡†ï¼Œç”¨äºåˆ‡æ¢å¤šä¸ªswaggeræ–‡æ¡£, å…·ä½“å†…å®¹å¦‚ä¸‹
    ```javascript
    let sites = ['ConfigPlaceholder']
      window.onload = function () {

        let prefix = document.location.origin
        sites.map((v) => {
          v.url = prefix + "/" + v.url.replace('./', "")
          return v
        })

        let selectUrl = function (url) {
          window.ui = SwaggerUIBundle({
            url: url,
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
              SwaggerUIBundle.presets.apis,
              SwaggerUIStandalonePreset
            ],
            plugins: [
              SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout"
          })
        }
        selectUrl(sites[0].url)
        let items = document.getElementById('api-select');
        sites.forEach(site => {
          let option = document.createElement('option')
          option.innerHTML = site.name
          option.value = site.url
          items.appendChild(option)
        });
        items.onchange = function () {
          let valOption = this.options[this.selectedIndex].value
          history.pushState({title: "", url: window.location.url}, '', "?url=" + encodeURIComponent(valOption))
          selectUrl(valOption)
        }
      }
    ```
  - é’ˆå¯¹sitesæ•°æ®ï¼ŒConfigPlaceholderä½œä¸ºä½ç½®å ç”¨ç¬¦å·ï¼Œé€šè¿‡pythonè„šæœ¬è§£ædocsç›®å½•ä¸‹çš„swagger jsonï¼Œè§£æå¤„ç†ä¹˜`<select>`æ ‡ç­¾çš„çš„nameå’Œvalue



## Sponsor

  Thank [JetBrains](https://jb.gg/OpenSourceSupport)